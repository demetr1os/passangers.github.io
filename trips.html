<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Пассажиры - Рейсы и путевые листы</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-bus"></i>
                <h1>Пассажиры</h1>
                <span class="subtitle">Учёт пассажирооборота</span>
            </div>
            <div class="header-info">
                <div class="date-info">
                    <i class="far fa-calendar"></i>
                    <span id="current-date"></span>
                </div>
                <button class="btn-logout">
                    <i class="fas fa-sign-out-alt"></i> Выйти
                </button>
            </div>
        </header>

        <div class="main-layout">
            <nav class="sidebar">
                <ul>
                    <li>
                        <a href="index.html">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Дашборд</span>
                        </a>
                    </li>
                    <li class="active">
                        <a href="trips.html">
                            <i class="fas fa-clipboard-list"></i>
                            <span>Рейсы и путевые листы</span>
                        </a>
                    </li>
                    <li>
                        <a href="reports.html">
                            <i class="fas fa-chart-bar"></i>
                            <span>Отчёты</span>
                        </a>
                    </li>
                </ul>
                <div class="sidebar-footer">
                    <button class="btn-add-trip" id="addWaybillBtn">
                        <i class="fas fa-plus"></i> Новый путевой лист
                    </button>
                </div>
            </nav>

            <main class="content">
                <div class="page-header">
                    <h2><i class="fas fa-clipboard-list"></i> Рейсы и путевые листы</h2>
                    <div class="header-actions">
                        <div class="filter-group">
                            <label for="date-filter"><i class="far fa-calendar-alt"></i> Дата:</label>
                            <input type="date" id="date-filter" value="">
                        </div>
                        <button class="btn-primary" id="applyFilterBtn">
                            <i class="fas fa-filter"></i> Применить фильтр
                        </button>
                    </div>
                </div>

                <!-- Активные рейсы -->
                <div class="section">
                    <h3><i class="fas fa-bus"></i> Активные рейсы на сегодня</h3>
                    <div class="trips-grid" id="active-trips">
                        <!-- Данные загрузятся через JS -->
                    </div>
                </div>

                <!-- Форма создания путевого листа (скрыта по умолчанию) -->
                <div class="section card" id="waybill-form" style="display: none;">
                    <h3><i class="fas fa-plus-circle"></i> Создать путевой лист</h3>
                    <form id="createWaybillForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="trip-select">Выберите рейс *</label>
                                <select id="trip-select" required>
                                    <option value="">-- Выберите рейс --</option>
                                    <!-- Опции загрузятся через JS -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="waybill-date">Дата рейса *</label>
                                <input type="date" id="waybill-date" required value="">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="passengers-count">Количество пассажиров *</label>
                                <input type="number" id="passengers-count" min="0" max="100" required placeholder="0">
                            </div>
                            <div class="form-group">
                                <label for="fare">Тариф за билет (руб.) *</label>
                                <input type="number" id="fare" min="1" required placeholder="500">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="revenue">Выручка (руб.) *</label>
                            <input type="number" id="revenue" min="0" required placeholder="0">
                            <small class="form-help">Рассчитывается автоматически при вводе пассажиров и тарифа</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="notes">Примечания</label>
                            <textarea id="notes" rows="3" placeholder="Дополнительная информация..."></textarea>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn-secondary" id="cancelWaybillBtn">Отмена</button>
                            <button type="submit" class="btn-primary">
                                <i class="fas fa-save"></i> Сохранить путевой лист
                            </button>
                        </div>
                    </form>
                </div>

                <!-- История путевых листов -->
                <div class="section">
                    <h3><i class="fas fa-history"></i> История путевых листов</h3>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Дата</th>
                                    <th>Рейс</th>
                                    <th>Направление</th>
                                    <th>Пассажиры</th>
                                    <th>Выручка</th>
                                    <th>Тариф</th>
                                    <th>Загрузка</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody id="waybills-history">
                                <!-- Данные загрузятся через JS -->
                            </tbody>
                        </table>
                    </div>
                    <div class="table-footer">
                        <div class="pagination">
                            <button class="btn-pagination" disabled><i class="fas fa-chevron-left"></i></button>
                            <span class="page-info">Страница 1 из 1</span>
                            <button class="btn-pagination" disabled><i class="fas fa-chevron-right"></i></button>
                        </div>
                        <div class="total-info">
                            Всего записей: <strong id="total-waybills">0</strong>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Модальное окно для просмотра/редактирования -->
    <div class="modal" id="waybill-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Детали путевого листа</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Содержимое загружается через JS -->
            </div>
            <div class="modal-footer">
                <button class="btn-secondary close-modal">Закрыть</button>
                <button class="btn-danger" id="deleteWaybillBtn" style="display: none;">Удалить</button>
                <button class="btn-primary" id="editWaybillBtn" style="display: none;">Редактировать</button>
            </div>
        </div>
    </div>

    <script src="data.js"></script>
    <script src="script.js"></script>
</body>
</html>